spring.application.name=bench
server.port=8081

# Redis Configuration (Lettuce)
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=6379
# If SPRING_DATA_REDIS_URL is set (e.g. redis-socket:///tmp/redis.sock), it takes precedence.

# Pool settings to match Go/Python (2500 max for 2000+ VUs)
spring.data.redis.lettuce.pool.enabled=true
spring.data.redis.lettuce.pool.max-active=2500
spring.data.redis.lettuce.pool.max-idle=500
spring.data.redis.lettuce.pool.min-idle=100

# Increase Tomcat threads to handle concurrency
server.tomcat.threads.max=2500

# Disable unnecessary logging
logging.level.root=ERROR
logging.level.org.springframework=ERROR
logging.level.com.example.bench=ERROR

# Management and Metrics
management.endpoints.web.exposure.include=prometheus
management.endpoint.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
